<!DOCTYPE html>
<html lang="zh-CN" data-theme="cupcake">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.46">
    <link rel="manifest" href="/site.webmanifest.json"><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"><title>Rust | </title><meta name="description" content="Just For Fun">
    <link rel="preload" href="/assets/js/runtime~app.7d4bd660.js" as="script"><link rel="preload" href="/assets/css/styles.1c65b737.css" as="style"><link rel="preload" href="/assets/js/5838.13a569e5.js" as="script"><link rel="preload" href="/assets/js/app.7e792774.js" as="script"><link rel="prefetch" href="/assets/js/v-03fc2322.47d94022.js"><link rel="prefetch" href="/assets/js/v-ba2c1988.3632b5e0.js"><link rel="prefetch" href="/assets/js/v-fd8e5af2.a9cafb88.js"><link rel="prefetch" href="/assets/js/v-5a071f34.190f1fdc.js"><link rel="prefetch" href="/assets/js/v-317472f1.a3c9dba2.js"><link rel="prefetch" href="/assets/js/v-560b844b.09f8a065.js"><link rel="prefetch" href="/assets/js/v-85bc3e4c.27575d9e.js"><link rel="prefetch" href="/assets/js/v-4835f72d.209f9a9b.js"><link rel="prefetch" href="/assets/js/v-6f2abf9c.c6a52b82.js"><link rel="prefetch" href="/assets/js/v-32c68258.46247de2.js"><link rel="prefetch" href="/assets/js/v-04983e79.ae40370a.js"><link rel="prefetch" href="/assets/js/v-7269d92e.00653b56.js"><link rel="prefetch" href="/assets/js/v-54e51afe.e3f20358.js"><link rel="prefetch" href="/assets/js/v-5fbdabee.afcc17b5.js"><link rel="prefetch" href="/assets/js/v-928f5a14.0a4a3dc4.js"><link rel="prefetch" href="/assets/js/v-88c7f226.529f6212.js"><link rel="prefetch" href="/assets/js/v-5e99732b.68dd2407.js"><link rel="prefetch" href="/assets/js/v-2fc78b4d.97b37f50.js"><link rel="prefetch" href="/assets/js/v-d99bba28.2cf82742.js"><link rel="prefetch" href="/assets/js/v-bee2f4a8.f072eb83.js"><link rel="prefetch" href="/assets/js/v-57ad8616.44af159f.js"><link rel="prefetch" href="/assets/js/v-f701b528.aa7f8f17.js"><link rel="prefetch" href="/assets/js/v-093d016d.bc725dd1.js"><link rel="prefetch" href="/assets/js/v-06ed95cc.0db5595a.js"><link rel="prefetch" href="/assets/js/v-01b20944.db789013.js"><link rel="prefetch" href="/assets/js/v-137d7552.50039c10.js"><link rel="prefetch" href="/assets/css/5045.styles.72ac531f.css"><link rel="prefetch" href="/assets/js/v-631fc68a.80740d81.js"><link rel="prefetch" href="/assets/js/v-8b5f7690.191ba9a3.js"><link rel="prefetch" href="/assets/js/v-530f22f6.f8e361fa.js"><link rel="prefetch" href="/assets/js/v-be2646cc.549f65bf.js"><link rel="prefetch" href="/assets/js/v-75e44f07.2f8601c3.js"><link rel="prefetch" href="/assets/js/v-c2504efe.28c55f92.js"><link rel="prefetch" href="/assets/js/v-5bc51cd9.b23c2caa.js"><link rel="prefetch" href="/assets/js/5956.f176ea33.js"><link rel="prefetch" href="/assets/js/v-6dc8e518.a8181c32.js"><link rel="prefetch" href="/assets/js/v-568d3b89.483d19f1.js"><link rel="prefetch" href="/assets/js/v-743faa02.3247db36.js"><link rel="prefetch" href="/assets/js/v-d52c6cc0.34d4b256.js"><link rel="prefetch" href="/assets/js/v-78263bfa.b7cb21e4.js"><link rel="prefetch" href="/assets/js/v-199de1f8.16ad6f91.js"><link rel="prefetch" href="/assets/js/v-30078430.3079f1d2.js"><link rel="prefetch" href="/assets/js/v-240dbb06.02e786fb.js"><link rel="prefetch" href="/assets/js/v-7a102f72.94a1b7e7.js"><link rel="prefetch" href="/assets/js/v-1402111c.9dc8cc11.js"><link rel="prefetch" href="/assets/js/v-f2bbc8da.fc4d9aa5.js"><link rel="prefetch" href="/assets/js/v-b0176dc2.b994ff0c.js"><link rel="prefetch" href="/assets/js/4644.1787b6ff.js"><link rel="prefetch" href="/assets/js/v-a5da5a08.cc633de8.js"><link rel="prefetch" href="/assets/js/v-acadbc84.800a32fa.js"><link rel="prefetch" href="/assets/js/v-a270a8ca.ea9c331c.js"><link rel="prefetch" href="/assets/js/v-a9440b46.63ee3544.js"><link rel="prefetch" href="/assets/js/6929.46233b49.js"><link rel="prefetch" href="/assets/js/9840.789f773b.js"><link rel="prefetch" href="/assets/js/v-9f06f78c.ff18832e.js"><link rel="prefetch" href="/assets/js/9870.c84a31ac.js"><link rel="prefetch" href="/assets/js/v-8daa1a0e.8245b191.js"><link rel="prefetch" href="/sw.js"><link rel="prefetch" href="/assets/css/3859.styles.7057c730.css">
    <link rel="stylesheet" href="/assets/css/styles.1c65b737.css">
</head>

<body>
    <div id="app"><!--[--><!--[--><div class="navbar sticky top-0 z-10"><a href="/" class=""><label class="btn btn-circle avatar"><div class="rounded-full ring ring-white shadow-2xl no-zoom"><img src="/avatar.webp"></div></label></a></div><div class="min-h-screen flex justify-center flex-col items-center"><article class="article w-full sm:w-3/4 lg:w-2/3 p-4" data-theme="cupcake"><div class="sm:max-w-full pb-12 prose sm:prose-sm md:prose-lg dark:prose-invert"><h1 id="rust" tabindex="-1"><a class="header-anchor" href="#rust" aria-hidden="true">#</a> Rust</h1><ul><li>Rust <ul><li>设计理念 <ul><li>性能、内存安全、并发安全</li><li>划分 Safe rust 和 Unsafe Rust（方便与其他语言沟通）</li><li>多范式编程</li></ul></li><li>语法特性 <ul><li><a href="/Rust/%E5%86%85%E5%AD%98%E5%AE%89%E5%85%A8%EF%BC%9A%E6%89%80%E6%9C%89%E6%9D%83%E3%80%81%E5%80%9F%E7%94%A8%E5%8F%8A%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.html" class="">内存安全：所有权、借用及生命周期</a></li><li>面向表达式 <ul><li>一切皆是表达式，即一切皆类型（表达式会产生值，值即类型，rust 就是通过一切类型检查保证内存安全、并发安全） <ul><li>控制流语句</li><li>函数</li></ul></li><li>编译期计算</li></ul></li></ul></li><li>编程基础 <ul><li>变量、值和类型</li><li>表达式与运算符</li><li>控制流 <ul><li>顺序</li><li>调用</li><li>循环：<code>loop / while(条件) / for...in(迭代器)</code> + <code>break / continue / return</code></li><li>跳转 <ul><li>分支跳转 <code>if ... else ...</code></li><li>模式匹配 <ul><li><code>match expr {}</code></li><li><code>if let / while let</code></li></ul></li><li><a href="/Rust/Rust%20%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86.html" class="">错误处理</a></li><li>异步跳转</li></ul></li></ul></li><li>函数 <code>fn</code></li><li>模块系统：箱、模块、路径 <ul><li>箱 crate：一个项目也被称为一个 crate，crate 可以是可执行项目，也可以是一个库</li><li>模块 <code>mod</code>：模块是一个箱内的代码组织单位，在 Rust 中声明模块的方式有两种：内联或在其他文件中声明</li><li><code>pub</code>：导出</li><li><code>use</code>：导入</li></ul></li><li>数据结构 <ul><li>数组</li><li>矢量 <code>Vec</code></li><li>哈希 <code>HashMap</code></li></ul></li><li>测试 <ul><li>单元测试 <ul><li><code>#[test]</code></li><li><code>#[should_panic]</code> 预期的失败</li><li><code>#[ignore]</code> 忽略测试</li></ul></li><li>文档测试 <code>///</code></li><li>集成测试</li></ul></li></ul></li><li>进阶 <ul><li>类型系统 <ul><li>类型是对值的区分，它包含了值在内存中的长度、对齐以及值可以进行的操作等信息；值是无法脱离具体的类型讨论的</li><li>内存分配 <ul><li>准则：栈上存放的数据是静态的，固定大小，固定生命周期；堆上存放的数据是动态的，不固定大小，不固定生命周期</li></ul></li><li>分类 <ul><li>原生类型</li><li>组合类型/复合类型 <ul><li>结构体（struct）：多个类型组合在一起共同表达一个值的复杂数据结构 <ul><li>经典结构体</li><li>元组</li><li>单元结构</li></ul></li><li>枚举（enum）：联合标签</li></ul></li></ul></li><li>指针和引用 <ul><li>指针是一个持有内存地址的值，可以通过解引用（dereference）来访问它指向的内存地址，理论上可以解引用到任意数据类型，但如果没有用正确的类型解引用一个指针，那么会引发各种各样的内存问题</li><li>引用的解引用访问是受限的，它只能解引用到它引用数据的类型，不能用作它用</li><li>引用的实现上比正常指针携带更多信息的指针，我们称之为胖指针（fat pointer），很多数据结构的引用，内部都是由胖指针实现的</li></ul></li></ul></li><li>泛型 <ul><li>数据结构的泛型</li><li>使用泛型结构代码的泛型化</li></ul></li><li>面向接口编程 <ul><li>接口将调用者和实现者隔离开，大大促进了代码的复用和扩展。面向接口编程可以让系统变得灵活，但是当使用接口去引用具体的类型时，在运行时变量原本的类型被抹去，我们无法单纯从一个指针分析出这个引用具备什么样的能力，所以我们就需要虚表来辅助运行时代码的执行。有了虚表，我们可以很方便地进行动态分派，它是运行时多态的基础。</li><li>Trait</li></ul></li><li>函数式编程 <ul><li>函数往往是一等公民</li><li>闭包是将函数，或者说代码和其环境一起存储的一种数据结构。闭包引用的上下文中的自由变量，会被捕获到闭包的结构中，成为闭包类型的一部分。</li></ul></li><li>并发编程 <ul><li>并发是系统拥有同时与多件事情打交道的能力；并行是同时处理多件事情的手段 <img src="images/1653375009755.png" alt="图 17"></li><li>异步编程</li></ul></li><li>宏编程 <ul><li>声明宏</li><li>过程宏 <ul><li>函数宏</li><li>派生宏</li><li>属性宏</li></ul></li></ul></li><li>面向对象编程</li></ul></li><li>实现 <ul><li>基于 LLVM，具有可移植性</li></ul></li><li>工程化 <ul><li>工具链 <ul><li>rustup：工具链管理工具 <ul><li>rust-toolchain.toml</li></ul></li><li>rustc：rust 编译器 <ul><li>支持类型推导，使得写代码时的直观感受和写脚本语言差不多👍</li></ul></li><li><a href="#cargo%E5%8C%85%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7">cargo：包管理工具</a></li></ul></li></ul></li><li>生态 <ul><li>WSAI</li></ul></li><li>资料 <ul><li>[x] <a href="https://docs.microsoft.com/zh-cn/learn/paths/rust-first-steps/" target="_blank" rel="noopener noreferrer">Microsoft Rust 教程<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>[ ] <a href="https://kaisery.github.io/trpl-zh-cn/title-page.html" target="_blank" rel="noopener noreferrer">Rust 程序设计语言<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>[ ] <a href="https://course.rs/about-book.html" target="_blank" rel="noopener noreferrer">Rust语言圣经(Rust Course)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>[ ] <a href="https://github.com/tyrchen/rust-training" target="_blank" rel="noopener noreferrer">rust-training<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>[ ] <a href="https://github.com/ctjhoa/rust-learning" target="_blank" rel="noopener noreferrer">rust-learning<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>[ ] <a href="https://github.com/rust-unofficial/awesome-rust" target="_blank" rel="noopener noreferrer">awesome-rust<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>[ ] <a href="https://rust-lang.github.io/async-book/03_async_await/01_chapter.html" target="_blank" rel="noopener noreferrer"> Asynchronous Programming in Rust<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li></ul></li></ul><h2 id="rust-程序骨架" tabindex="-1"><a class="header-anchor" href="#rust-程序骨架" aria-hidden="true">#</a> rust 程序骨架</h2><ul><li>分割符 <ul><li>属性，<code>#![...]</code></li><li>分号，<code>;</code>，行分隔符</li><li>花括号，<code>{}</code>，块分隔符</li></ul></li><li>表达式和语句 <ul><li>表达式：计算求值</li><li>语句：操作</li><li>程序：语句集合</li><li>语句 <ul><li>声明语句</li><li>表达式语句</li></ul></li></ul></li><li>面向表达式 <ul><li>分号也是一种表达式，<code>; -&gt; ()</code>，返回单元类型，平常只做分隔符，在块最后可做表达式</li><li>块表达式会对最后表达式求值并返回</li></ul></li></ul><h2 id="cargo-包管理工具" tabindex="-1"><a class="header-anchor" href="#cargo-包管理工具" aria-hidden="true">#</a> cargo：包管理工具</h2><ul><li>cargo <ul><li>概念 <ul><li>workspace：多项目组织</li></ul></li><li>配置：Cargo.toml</li><li>命令 <ul><li>cargo new --bin/lib</li><li>cargo build [--release]</li><li>cargo test</li></ul></li></ul></li></ul><h3 id="cargo-workspace" tabindex="-1"><a class="header-anchor" href="#cargo-workspace" aria-hidden="true">#</a> cargo workspace</h3><p><a href="https://kaisery.github.io/trpl-zh-cn/ch14-03-cargo-workspaces.html" target="_blank" rel="noopener noreferrer">cargo workspaces<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="language-toml ext-toml"><pre class="shiki" style="background-color:#ffffff;"><code><span class="line"><span style="color:#24292F;">[</span><span style="color:#953800;">workspace</span><span style="color:#24292F;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292F;">members = [</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#82071E;font-style:italic;">...</span></span>
<span class="line"><span style="color:#24292F;">]</span></span>
<span class="line"></span></code></pre></div></div><!----></article></div><footer class="footer footer-center p-4 bg-base-300 text-base-content opacity-60"><div><p>©2017-2021 laoergege.cn. All right reserved. </p><p><a href="https://beian.miit.gov.cn" target="_blank" class="link link-hover">粤ICP备2022020679号</a></p></div></footer><!--]--><!----><!--]--></div>
    <script src="/assets/js/runtime~app.7d4bd660.js" defer></script><script src="/assets/js/5838.13a569e5.js" defer></script><script src="/assets/js/app.7e792774.js" defer></script>
</body>

</html>