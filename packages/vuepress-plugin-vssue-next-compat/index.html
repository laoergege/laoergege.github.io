<!DOCTYPE html>
<html lang="zh-CN" data-theme="cupcake">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.46">
    <link rel="manifest" href="/site.webmanifest.json"><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"><title>Release vuepress-plugin-vssue-next-compat 🎉 | </title><meta name="description" content="A compat version for vuepress-next of vuepress-plugin-vssue.">
    <link rel="preload" href="/assets/js/runtime~app.7d4bd660.js" as="script"><link rel="preload" href="/assets/css/styles.1c65b737.css" as="style"><link rel="preload" href="/assets/js/5838.13a569e5.js" as="script"><link rel="preload" href="/assets/js/app.7e792774.js" as="script"><link rel="prefetch" href="/assets/js/v-03fc2322.47d94022.js"><link rel="prefetch" href="/assets/js/v-ba2c1988.3632b5e0.js"><link rel="prefetch" href="/assets/js/v-fd8e5af2.a9cafb88.js"><link rel="prefetch" href="/assets/js/v-5a071f34.190f1fdc.js"><link rel="prefetch" href="/assets/js/v-317472f1.a3c9dba2.js"><link rel="prefetch" href="/assets/js/v-560b844b.09f8a065.js"><link rel="prefetch" href="/assets/js/v-85bc3e4c.27575d9e.js"><link rel="prefetch" href="/assets/js/v-4835f72d.209f9a9b.js"><link rel="prefetch" href="/assets/js/v-6f2abf9c.c6a52b82.js"><link rel="prefetch" href="/assets/js/v-32c68258.46247de2.js"><link rel="prefetch" href="/assets/js/v-04983e79.ae40370a.js"><link rel="prefetch" href="/assets/js/v-7269d92e.00653b56.js"><link rel="prefetch" href="/assets/js/v-54e51afe.e3f20358.js"><link rel="prefetch" href="/assets/js/v-5fbdabee.afcc17b5.js"><link rel="prefetch" href="/assets/js/v-928f5a14.0a4a3dc4.js"><link rel="prefetch" href="/assets/js/v-88c7f226.529f6212.js"><link rel="prefetch" href="/assets/js/v-5e99732b.68dd2407.js"><link rel="prefetch" href="/assets/js/v-2fc78b4d.97b37f50.js"><link rel="prefetch" href="/assets/js/v-d99bba28.2cf82742.js"><link rel="prefetch" href="/assets/js/v-bee2f4a8.f072eb83.js"><link rel="prefetch" href="/assets/js/v-57ad8616.44af159f.js"><link rel="prefetch" href="/assets/js/v-f701b528.aa7f8f17.js"><link rel="prefetch" href="/assets/js/v-093d016d.bc725dd1.js"><link rel="prefetch" href="/assets/js/v-06ed95cc.0db5595a.js"><link rel="prefetch" href="/assets/js/v-01b20944.db789013.js"><link rel="prefetch" href="/assets/js/v-137d7552.50039c10.js"><link rel="prefetch" href="/assets/css/5045.styles.72ac531f.css"><link rel="prefetch" href="/assets/js/v-631fc68a.80740d81.js"><link rel="prefetch" href="/assets/js/v-8b5f7690.191ba9a3.js"><link rel="prefetch" href="/assets/js/v-530f22f6.f8e361fa.js"><link rel="prefetch" href="/assets/js/v-be2646cc.549f65bf.js"><link rel="prefetch" href="/assets/js/v-75e44f07.2f8601c3.js"><link rel="prefetch" href="/assets/js/v-c2504efe.28c55f92.js"><link rel="prefetch" href="/assets/js/v-5bc51cd9.b23c2caa.js"><link rel="prefetch" href="/assets/js/5956.f176ea33.js"><link rel="prefetch" href="/assets/js/v-6dc8e518.a8181c32.js"><link rel="prefetch" href="/assets/js/v-568d3b89.483d19f1.js"><link rel="prefetch" href="/assets/js/v-743faa02.3247db36.js"><link rel="prefetch" href="/assets/js/v-d52c6cc0.34d4b256.js"><link rel="prefetch" href="/assets/js/v-78263bfa.b7cb21e4.js"><link rel="prefetch" href="/assets/js/v-199de1f8.16ad6f91.js"><link rel="prefetch" href="/assets/js/v-30078430.3079f1d2.js"><link rel="prefetch" href="/assets/js/v-240dbb06.02e786fb.js"><link rel="prefetch" href="/assets/js/v-7a102f72.94a1b7e7.js"><link rel="prefetch" href="/assets/js/v-1402111c.9dc8cc11.js"><link rel="prefetch" href="/assets/js/v-f2bbc8da.fc4d9aa5.js"><link rel="prefetch" href="/assets/js/v-b0176dc2.b994ff0c.js"><link rel="prefetch" href="/assets/js/4644.1787b6ff.js"><link rel="prefetch" href="/assets/js/v-a5da5a08.cc633de8.js"><link rel="prefetch" href="/assets/js/v-acadbc84.800a32fa.js"><link rel="prefetch" href="/assets/js/v-a270a8ca.ea9c331c.js"><link rel="prefetch" href="/assets/js/v-a9440b46.63ee3544.js"><link rel="prefetch" href="/assets/js/6929.46233b49.js"><link rel="prefetch" href="/assets/js/9840.789f773b.js"><link rel="prefetch" href="/assets/js/v-9f06f78c.ff18832e.js"><link rel="prefetch" href="/assets/js/9870.c84a31ac.js"><link rel="prefetch" href="/assets/js/v-8daa1a0e.8245b191.js"><link rel="prefetch" href="/sw.js"><link rel="prefetch" href="/assets/css/3859.styles.7057c730.css">
    <link rel="stylesheet" href="/assets/css/styles.1c65b737.css">
</head>

<body>
    <div id="app"><!--[--><!--[--><div class="navbar sticky top-0 z-10"><a href="/" class=""><label class="btn btn-circle avatar"><div class="rounded-full ring ring-white shadow-2xl no-zoom"><img src="/avatar.webp"></div></label></a></div><div class="min-h-screen flex justify-center flex-col items-center"><article class="article w-full sm:w-3/4 lg:w-2/3 p-4" data-theme="cupcake"><div class="sm:max-w-full pb-12 prose sm:prose-sm md:prose-lg dark:prose-invert"><h1 id="laoergege-vuepress-plugin-vssue-next-compat" tabindex="-1"><a class="header-anchor" href="#laoergege-vuepress-plugin-vssue-next-compat" aria-hidden="true">#</a> @laoergege/vuepress-plugin-vssue-next-compat</h1><p>A compat version for vuepress-next of vuepress-plugin-vssue.</p><h2 id="why" tabindex="-1"><a class="header-anchor" href="#why" aria-hidden="true">#</a> Why</h2><p><a href="https://vssue.js.org/" target="_blank" rel="noopener noreferrer">Vssue<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> is currently developed based on vue2, so it is not compatible with vuepress-next.</p><h2 id="usage" tabindex="-1"><a class="header-anchor" href="#usage" aria-hidden="true">#</a> Usage</h2><p>Install from the command line:</p><div class="language-text ext-text"><pre class="shiki" style="background-color:#ffffff;"><code><span class="line"><span style="color:#24292f;">npm install @laoergege/vuepress-plugin-vssue-next-compat</span></span>
<span class="line"><span style="color:#24292f;"></span></span></code></pre></div><p>Import vssue css:</p><p>In Browser</p><div class="language-html ext-html"><pre class="shiki" style="background-color:#ffffff;"><code><span class="line"><span style="color:#24292F;">&lt;</span><span style="color:#116329;">head</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#24292F;">  </span><span style="color:#6E7781;">&lt;!-- style sheet of Vssue --&gt;</span></span>
<span class="line"><span style="color:#24292F;">  &lt;</span><span style="color:#116329;">link</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">rel</span><span style="color:#24292F;">=</span><span style="color:#0A3069;">&quot;stylesheet&quot;</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">href</span><span style="color:#24292F;">=</span><span style="color:#0A3069;">&quot;https://unpkg.com/vssue/dist/vssue.min.css&quot;</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#24292F;">&lt;/</span><span style="color:#116329;">head</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>or in APP</p><div class="language-bash ext-sh"><pre class="shiki" style="background-color:#ffffff;"><code><span class="line"><span style="color:#24292F;">npm install vssue</span></span>
<span class="line"></span></code></pre></div><div class="language-javascript ext-js"><pre class="shiki" style="background-color:#ffffff;"><code><span class="line"><span style="color:#6E7781;">// .vuepress/clinet.js</span></span>
<span class="line"><span style="color:#CF222E;">import</span><span style="color:#24292F;"> </span><span style="color:#0A3069;">&#39;vssue/dist/vssue.css&#39;</span></span>
<span class="line"></span></code></pre></div><p>With this way, you can build your theme. <a href="https://vssue.js.org/guide/styles.html#use-source-code-of-vssue-styles" target="_blank" rel="noopener noreferrer">see more<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>Config plugin:</p><div class="language-javascript ext-js"><pre class="shiki" style="background-color:#ffffff;"><code><span class="line"><span style="color:#6E7781;">// .vuepress/config.js</span></span>
<span class="line"><span style="color:#CF222E;">import</span><span style="color:#24292F;"> { VssuePlugin } </span><span style="color:#CF222E;">from</span><span style="color:#24292F;"> </span><span style="color:#0A3069;">&quot;@laoergege/vuepress-plugin-vssue-next-compat&quot;</span><span style="color:#24292F;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6E7781;">// ...</span></span>
<span class="line"><span style="color:#953800;">plugins</span><span style="color:#24292F;">:[</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#8250DF;">VssuePlugin</span><span style="color:#24292F;">({</span></span>
<span class="line"><span style="color:#24292F;">      platform: </span><span style="color:#0A3069;">&quot;github&quot;</span><span style="color:#24292F;">,</span></span>
<span class="line"><span style="color:#24292F;">      owner: </span><span style="color:#0A3069;">&quot;laoergege&quot;</span><span style="color:#24292F;">,</span></span>
<span class="line"><span style="color:#24292F;">      repo: </span><span style="color:#0A3069;">&quot;laoergege-blog&quot;</span><span style="color:#24292F;">,</span></span>
<span class="line"><span style="color:#24292F;">      clientId: </span><span style="color:#0A3069;">&quot;xxx&quot;</span><span style="color:#24292F;">,</span></span>
<span class="line"><span style="color:#24292F;">      clientSecret: </span><span style="color:#0A3069;">&quot;xxx&quot;</span><span style="color:#24292F;">,</span></span>
<span class="line"><span style="color:#24292F;">      labels: [</span><span style="color:#0A3069;">&quot;note&quot;</span><span style="color:#24292F;">],</span></span>
<span class="line"><span style="color:#24292F;">      prefix: [</span><span style="color:#0A3069;">&quot;&quot;</span><span style="color:#24292F;">],</span></span>
<span class="line"><span style="color:#24292F;">    })</span></span>
<span class="line"><span style="color:#24292F;">]</span></span>
<span class="line"><span style="color:#6E7781;">// ...</span></span>
<span class="line"></span></code></pre></div><p><a href="https://vssue.js.org/options/" target="_blank" rel="noopener noreferrer">more vssue options reference<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>In your md file or vue file.</p><div class="language-markdown ext-md"><pre class="shiki" style="background-color:#ffffff;"><code><span class="line"><span style="color:#6E7781;">&lt;!-- README.md --&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#0550AE;font-weight:bold;"># Vssue Demo</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292F;">&lt;Vssue :title=&quot;$title&quot; /&gt;</span></span>
<span class="line"></span></code></pre></div><p><a href="https://vssue.js.org/options/#vssue-options" target="_blank" rel="noopener noreferrer">Vssue Component Props Reference<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="onbeforeoauth" tabindex="-1"><a class="header-anchor" href="#onbeforeoauth" aria-hidden="true">#</a> onBeforeOauth</h3><p>A hook which you can modify the oauth url is runing before vssue redirect to the oauth url.</p><blockquote><p>I found that the redirect url （the oauth callback url） is cannot contain chinese path ! So I add a new api which you can modify the redirect_uri query param.</p></blockquote><div class="language-html ext-html"><pre class="shiki" style="background-color:#ffffff;"><code><span class="line"><span style="color:#24292F;">&lt;</span><span style="color:#116329;">template</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#24292F;">  &lt;</span><span style="color:#82071E;font-style:italic;">vssue</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">:title</span><span style="color:#24292F;">=</span><span style="color:#0A3069;">&quot;title&quot;</span><span style="color:#24292F;">  </span><span style="color:#0550AE;">:onBeforeOauth</span><span style="color:#24292F;">=</span><span style="color:#0A3069;">&quot;onBeforeOauth&quot;</span><span style="color:#24292F;">/&gt;</span></span>
<span class="line"><span style="color:#24292F;">&lt;/</span><span style="color:#116329;">template</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292F;">&lt;</span><span style="color:#116329;">script</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#CF222E;">import</span><span style="color:#24292F;"> { usePageData } </span><span style="color:#CF222E;">from</span><span style="color:#24292F;"> </span><span style="color:#0A3069;">&quot;@vuepress/client&quot;</span></span>
<span class="line"><span style="color:#CF222E;">import</span><span style="color:#24292F;"> { toRefs } </span><span style="color:#CF222E;">from</span><span style="color:#24292F;"> </span><span style="color:#0A3069;">&quot;vue&quot;</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#CF222E;">export</span><span style="color:#953800;"> </span><span style="color:#CF222E;">default</span><span style="color:#953800;"> {</span></span>
<span class="line"><span style="color:#953800;">    </span><span style="color:#8250DF;">setup</span><span style="color:#953800;">() </span><span style="color:#24292F;">{</span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#CF222E;">const</span><span style="color:#24292F;"> { </span><span style="color:#0550AE;">title</span><span style="color:#24292F;"> } </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">toRefs</span><span style="color:#24292F;">(</span><span style="color:#8250DF;">usePageData</span><span style="color:#24292F;">().value)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#CF222E;">return</span><span style="color:#24292F;"> {</span></span>
<span class="line"><span style="color:#24292F;">          title,</span></span>
<span class="line"><span style="color:#24292F;">          </span><span style="color:#8250DF;">onBeforeOauth</span><span style="color:#24292F;">(</span><span style="color:#953800;">url</span><span style="color:#24292F;">) {</span></span>
<span class="line"><span style="color:#24292F;">           sessionStorage.</span><span style="color:#8250DF;">setItem</span><span style="color:#24292F;">(</span><span style="color:#0A3069;">&#39;redirect_uri&#39;</span><span style="color:#24292F;">, location.pathname)</span></span>
<span class="line"><span style="color:#24292F;">           </span><span style="color:#6E7781;">// remove the Chinese path</span></span>
<span class="line"><span style="color:#24292F;">           </span><span style="color:#6E7781;">// change the redirect_uri query            </span></span>
<span class="line"><span style="color:#24292F;">           </span><span style="color:#CF222E;">return</span><span style="color:#24292F;"> url.</span><span style="color:#8250DF;">replace</span><span style="color:#24292F;">(</span><span style="color:#0A3069;">/redirect_uri=(</span><span style="color:#0550AE;">[</span><span style="color:#CF222E;">^</span><span style="color:#0550AE;">&amp;]</span><span style="color:#CF222E;">*</span><span style="color:#0A3069;">)/</span><span style="color:#24292F;">, </span><span style="color:#0A3069;">`redirect_uri=${</span><span style="color:#24292F;">location</span><span style="color:#0A3069;">.</span><span style="color:#24292F;">origin</span><span style="color:#0A3069;">}`</span><span style="color:#24292F;">)</span></span>
<span class="line"><span style="color:#24292F;">          }</span></span>
<span class="line"><span style="color:#24292F;">        }</span></span>
<span class="line"><span style="color:#24292F;">    }</span></span>
<span class="line"><span style="color:#953800;">}</span></span>
<span class="line"><span style="color:#24292F;">&lt;/</span><span style="color:#116329;">script</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"></span></code></pre></div><h2 id="changelog" tabindex="-1"><a class="header-anchor" href="#changelog" aria-hidden="true">#</a> Changelog</h2><p><a href="/packages/vuepress-plugin-vssue-next-compat/CHANGELOG.html" class="">CHANGELOG.md</a></p></div><!----></article></div><footer class="footer footer-center p-4 bg-base-300 text-base-content opacity-60"><div><p>©2017-2021 laoergege.cn. All right reserved. </p><p><a href="https://beian.miit.gov.cn" target="_blank" class="link link-hover">粤ICP备2022020679号</a></p></div></footer><!--]--><!----><!--]--></div>
    <script src="/assets/js/runtime~app.7d4bd660.js" defer></script><script src="/assets/js/5838.13a569e5.js" defer></script><script src="/assets/js/app.7e792774.js" defer></script>
</body>

</html>