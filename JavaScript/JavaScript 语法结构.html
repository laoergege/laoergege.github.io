<!DOCTYPE html>
<html lang="zh-CN" data-theme="cupcake">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.46">
    <link rel="manifest" href="/site.webmanifest.json"><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"><title>JavaScript 语法结构 | </title><meta name="description" content="Just For Fun">
    <link rel="preload" href="/assets/js/runtime~app.7d4bd660.js" as="script"><link rel="preload" href="/assets/css/styles.1c65b737.css" as="style"><link rel="preload" href="/assets/js/5838.13a569e5.js" as="script"><link rel="preload" href="/assets/js/app.7e792774.js" as="script"><link rel="prefetch" href="/assets/js/v-03fc2322.47d94022.js"><link rel="prefetch" href="/assets/js/v-ba2c1988.3632b5e0.js"><link rel="prefetch" href="/assets/js/v-fd8e5af2.a9cafb88.js"><link rel="prefetch" href="/assets/js/v-5a071f34.190f1fdc.js"><link rel="prefetch" href="/assets/js/v-317472f1.a3c9dba2.js"><link rel="prefetch" href="/assets/js/v-560b844b.09f8a065.js"><link rel="prefetch" href="/assets/js/v-85bc3e4c.27575d9e.js"><link rel="prefetch" href="/assets/js/v-4835f72d.209f9a9b.js"><link rel="prefetch" href="/assets/js/v-6f2abf9c.c6a52b82.js"><link rel="prefetch" href="/assets/js/v-32c68258.46247de2.js"><link rel="prefetch" href="/assets/js/v-04983e79.ae40370a.js"><link rel="prefetch" href="/assets/js/v-7269d92e.00653b56.js"><link rel="prefetch" href="/assets/js/v-54e51afe.e3f20358.js"><link rel="prefetch" href="/assets/js/v-5fbdabee.afcc17b5.js"><link rel="prefetch" href="/assets/js/v-928f5a14.0a4a3dc4.js"><link rel="prefetch" href="/assets/js/v-88c7f226.529f6212.js"><link rel="prefetch" href="/assets/js/v-5e99732b.68dd2407.js"><link rel="prefetch" href="/assets/js/v-2fc78b4d.97b37f50.js"><link rel="prefetch" href="/assets/js/v-d99bba28.2cf82742.js"><link rel="prefetch" href="/assets/js/v-bee2f4a8.f072eb83.js"><link rel="prefetch" href="/assets/js/v-57ad8616.44af159f.js"><link rel="prefetch" href="/assets/js/v-f701b528.aa7f8f17.js"><link rel="prefetch" href="/assets/js/v-093d016d.bc725dd1.js"><link rel="prefetch" href="/assets/js/v-06ed95cc.0db5595a.js"><link rel="prefetch" href="/assets/js/v-01b20944.db789013.js"><link rel="prefetch" href="/assets/js/v-137d7552.50039c10.js"><link rel="prefetch" href="/assets/css/5045.styles.72ac531f.css"><link rel="prefetch" href="/assets/js/v-631fc68a.80740d81.js"><link rel="prefetch" href="/assets/js/v-8b5f7690.191ba9a3.js"><link rel="prefetch" href="/assets/js/v-530f22f6.f8e361fa.js"><link rel="prefetch" href="/assets/js/v-be2646cc.549f65bf.js"><link rel="prefetch" href="/assets/js/v-75e44f07.2f8601c3.js"><link rel="prefetch" href="/assets/js/v-c2504efe.28c55f92.js"><link rel="prefetch" href="/assets/js/v-5bc51cd9.b23c2caa.js"><link rel="prefetch" href="/assets/js/5956.f176ea33.js"><link rel="prefetch" href="/assets/js/v-6dc8e518.a8181c32.js"><link rel="prefetch" href="/assets/js/v-568d3b89.483d19f1.js"><link rel="prefetch" href="/assets/js/v-743faa02.3247db36.js"><link rel="prefetch" href="/assets/js/v-d52c6cc0.34d4b256.js"><link rel="prefetch" href="/assets/js/v-78263bfa.b7cb21e4.js"><link rel="prefetch" href="/assets/js/v-199de1f8.16ad6f91.js"><link rel="prefetch" href="/assets/js/v-30078430.3079f1d2.js"><link rel="prefetch" href="/assets/js/v-240dbb06.02e786fb.js"><link rel="prefetch" href="/assets/js/v-7a102f72.94a1b7e7.js"><link rel="prefetch" href="/assets/js/v-1402111c.9dc8cc11.js"><link rel="prefetch" href="/assets/js/v-f2bbc8da.fc4d9aa5.js"><link rel="prefetch" href="/assets/js/v-b0176dc2.b994ff0c.js"><link rel="prefetch" href="/assets/js/4644.1787b6ff.js"><link rel="prefetch" href="/assets/js/v-a5da5a08.cc633de8.js"><link rel="prefetch" href="/assets/js/v-acadbc84.800a32fa.js"><link rel="prefetch" href="/assets/js/v-a270a8ca.ea9c331c.js"><link rel="prefetch" href="/assets/js/v-a9440b46.63ee3544.js"><link rel="prefetch" href="/assets/js/6929.46233b49.js"><link rel="prefetch" href="/assets/js/9840.789f773b.js"><link rel="prefetch" href="/assets/js/v-9f06f78c.ff18832e.js"><link rel="prefetch" href="/assets/js/9870.c84a31ac.js"><link rel="prefetch" href="/assets/js/v-8daa1a0e.8245b191.js"><link rel="prefetch" href="/sw.js"><link rel="prefetch" href="/assets/css/3859.styles.7057c730.css">
    <link rel="stylesheet" href="/assets/css/styles.1c65b737.css">
</head>

<body>
    <div id="app"><!--[--><!--[--><div class="navbar sticky top-0 z-10"><a href="/" class=""><label class="btn btn-circle avatar"><div class="rounded-full ring ring-white shadow-2xl no-zoom"><img src="/avatar.webp"></div></label></a></div><div class="min-h-screen flex justify-center flex-col items-center"><article class="article w-full sm:w-3/4 lg:w-2/3 p-4" data-theme="cupcake"><div class="sm:max-w-full pb-12 prose sm:prose-sm md:prose-lg dark:prose-invert"><h1 id="javascript-语法结构" tabindex="-1"><a class="header-anchor" href="#javascript-语法结构" aria-hidden="true">#</a> JavaScript 语法结构</h1><ul><li>JavaScript 文法 <ul><li>词法 <ul><li><a href="#%E8%87%AA%E5%8A%A8%E6%8F%92%E5%85%A5%E5%88%86%E5%8F%B7%E8%A7%84%E5%88%99">自动插入分号规则</a></li><li>分词 <ul><li>空格</li><li>换行</li><li>注释</li><li>token <ul><li>标识符</li><li>关键词</li><li>运算符</li><li>字面量 <ul><li>数字直接量</li><li>字符串直接量 <ul><li><a href="/JavaScript/JavaScript%20%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6%E4%B8%B2.html" class="">转义字符串</a></li></ul></li><li>字符串模板</li><li>等</li></ul></li></ul></li></ul></li></ul></li><li>语法 <ul><li>指令序言（JavaScript 的指令序言是只有一个字符串直接量的表达式语句，它只能出现在脚本、模块和函数体的最前面） <ul><li><code>use strict</code></li></ul></li><li>语句 <ul><li>变量声明 <ul><li>var</li><li>function</li><li>let</li><li>const</li><li>class</li></ul></li><li>赋值语句</li><li><a href="#%E8%A1%A8%E8%BE%BE%E5%BC%8F">表达式</a>及运算符</li><li>控制流 <ul><li>分支 <ul><li>if/else</li><li>switch</li></ul></li><li>循环 <ul><li>递归</li><li>遍历 <ul><li>while/do、while/for</li><li>for</li></ul></li><li>属性枚举 <ul><li>for in</li></ul></li><li>迭代器模式 <ul><li>for of</li><li>for await of</li></ul></li></ul></li><li>错误跳转 try-catch-finally <ul><li>即使在 try 中出现了 return，finally 中的语句也一定要被先执行</li><li>finally 中的 return 会覆盖 try 中的 return</li></ul></li></ul></li><li>函数 <ul><li>普通函数/成员函数</li><li>箭头函数</li><li>生成器函数（generator）</li><li>异步函数（async）</li><li>异步生成器函数</li></ul></li><li>JavaScript 有两种源文件 <ul><li>脚本</li><li><a href="/JavaScript/JavaScript%20%E6%A8%A1%E5%9D%97.html" class="">模块</a></li></ul></li></ul></li></ul></li></ul></li></ul><h2 id="自动插入分号规则" tabindex="-1"><a class="header-anchor" href="#自动插入分号规则" aria-hidden="true">#</a> 自动插入分号规则</h2><p>JavaScript 代码可以不用写分号符，编译器可以根据换行符自动判断插入分号，但在某些情况下最好写上分号符，因为编译器区分不出是否要插入分号。</p><p><img src="/assets/img/1642671148832.16870aa8.png" alt="图 10"></p><p>自动插入分号规则总结如下：</p><ol><li>有换行符，且下一个符号是不符合语法的，那么就尝试插入分号。</li><li>有换行符，且语法中规定此处<strong>不能有换行符</strong>，那么就自动插入分号。</li><li>源代码结束处，不能形成完整的脚本或者模块结构，那么就自动插入分号。</li></ol><h3 id="no-lineterminator-here-不能有换行符-规则" tabindex="-1"><a class="header-anchor" href="#no-lineterminator-here-不能有换行符-规则" aria-hidden="true">#</a> no LineTerminator here （不能有换行符）规则</h3><p>空格符会被编译器丢弃，而换行符会进行处理判断。</p><p><img src="/assets/img/1641360549128.b289a0cc.png" alt="图 9"></p><p>比如后自增、后自减运算符：</p><div class="language-javascript ext-js"><pre class="shiki" style="background-color:#ffffff;"><code><span class="line"><span style="color:#CF222E;">let</span><span style="color:#24292F;"> a </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292F;">a </span><span style="color:#6E7781;">/*no LineTerminator here*/</span></span>
<span class="line"><span style="color:#CF222E;">++</span></span>
<span class="line"><span style="color:#6E7781;">// a; ++</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292F;">console.</span><span style="color:#8250DF;">log</span><span style="color:#24292F;">(a) </span><span style="color:#6E7781;">// 1</span></span>
<span class="line"></span></code></pre></div><h3 id="手写分号的特殊情况" tabindex="-1"><a class="header-anchor" href="#手写分号的特殊情况" aria-hidden="true">#</a> 手写分号的特殊情况</h3><p>需要手写分号的都是编译器无法区分的情况，即上一个符号与下一个符号之间组合可能存在意义比如</p><div class="language-javascript ext-js"><pre class="shiki" style="background-color:#ffffff;"><code><span class="line"><span style="color:#CF222E;">let</span><span style="color:#24292F;"> a </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> [[</span><span style="color:#0550AE;">1</span><span style="color:#24292F;">]][</span><span style="color:#0550AE;">0</span><span style="color:#24292F;">].</span><span style="color:#8250DF;">map</span><span style="color:#24292F;">((</span><span style="color:#953800;">e</span><span style="color:#24292F;">) </span><span style="color:#CF222E;">=&gt;</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">2</span><span style="color:#24292F;">);</span></span>
<span class="line"><span style="color:#6E7781;">// 被当作数组下标运算 [][]</span></span>
<span class="line"><span style="color:#6E7781;">// let a = [[1]][0].map(e =&gt; 2)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292F;">console.</span><span style="color:#8250DF;">log</span><span style="color:#24292F;">(a); </span><span style="color:#6E7781;">// [2]</span></span>
<span class="line"></span></code></pre></div><p>总结有：</p><ol><li><p>以<strong>括号</strong>开头的语句，比如 IIFE。</p><div class="language-javascript ext-js"><pre class="shiki" style="background-color:#ffffff;"><code><span class="line"><span style="color:#24292F;">(</span><span style="color:#CF222E;">function</span><span style="color:#24292F;"> (</span><span style="color:#953800;">a</span><span style="color:#24292F;">) {</span></span>
<span class="line"><span style="color:#24292F;">  console.</span><span style="color:#8250DF;">log</span><span style="color:#24292F;">(a);</span></span>
<span class="line"><span style="color:#24292F;">})()(</span><span style="color:#CF222E;">function</span><span style="color:#24292F;"> (</span><span style="color:#953800;">a</span><span style="color:#24292F;">) {</span></span>
<span class="line"><span style="color:#24292F;">  console.</span><span style="color:#8250DF;">log</span><span style="color:#24292F;">(a);</span></span>
<span class="line"><span style="color:#24292F;">})();</span></span>
<span class="line"></span></code></pre></div><p>JavaScript 引擎会认为第一个 IIFE 返回的是一个函数，第二 IIFE 会被当作函数调用传参，导致抛出错误。</p></li><li><p>以<strong>数组</strong>开头的语句。</p></li><li><p>以正则表达式开头的语句，正则的第一个<strong>斜杠</strong>被理解成了除号。</p></li><li><p>以 Template 开头的语句。</p></li></ol><h2 id="表达式" tabindex="-1"><a class="header-anchor" href="#表达式" aria-hidden="true">#</a> 表达式</h2><p>事实上，真正能干活的就只有表达式语句，其它语句的作用都是产生各种结构，来控制表达式语句执行，或者改变表达式语句的意义。</p><p>表达式语句实际上就是一个表达式，它是由运算符连接变量或者直接量构成的。</p><p>以下只是 <a href="https://tc39.es/ecma262/#sec-ecmascript-language-expressions" target="_blank" rel="noopener noreferrer">ECMA 表达式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>部分，表达式都是从高优先级、粒度从小逐级构成：</p><blockquote><p>通俗得理解出现在赋值表达式左边的叫左值表达式、右边的叫做右值表达式；<br> 左值是能够解析获得一个内存地址引用，右值是值，由字面量值或者左值和运算符构成的表达式得到</p></blockquote><ol><li>PrimaryExpression 主要表达式 <ul><li>各种直接字面量， 如 <code>123</code>、<code>[]</code></li><li>this</li><li>变量名</li><li><strong>任何表达式加上圆括号，都被认为是 Primary Expression，这个机制使得圆括号成为改变运算优先顺序的手段</strong></li></ul></li><li>LeftHandSideExpression 左值表达式 <ol><li>MemberExpression 成员表达式 <ul><li>如 <code>a.b</code>、<code>a[&quot;b&quot;]</code></li><li>以下两种特殊 JS 语法，仅仅意味着它们跟属性运算属于同一优先级，没有任何语义上的关联 <ul><li>带函数的模板，<code>f`a${b}c`;</code></li><li><strong>带参数列表的 new 运算</strong>，<code>new Cls();</code></li></ul></li></ul></li><li>NewExpression NEW 表达式 <ul><li>特指没有参数列表的表达式，<code>new Cls</code></li></ul></li><li>CallExpression 函数调用表达式</li><li>可选链 <code>?.</code></li><li>空值合并运算符 <code>??</code></li></ol></li><li>右值表达式（左值与运算符结合） <ol><li>更新表达式 UpdateExpression</li><li>一元运算表达式 UnaryExpression <ul><li><code>~</code> 按位取非运算符</li></ul></li><li>二元运算表达式 <ol><li>乘方表达式 ExponentiationExpression <ul><li><code>2**3 === 8</code>，** 运算是右结合的</li></ul></li><li>乘法表达式 MultiplicativeExpression <ul><li>乘法表达式有三种运算符：<code>* / %</code></li></ul></li><li>加法表达式 AdditiveExpression <ul><li>加法表达式有加号和减号两种运算符</li></ul></li><li>移位表达式 ShiftExpression <ul><li><code>&lt;&lt;</code> 向左移位</li><li><code>&gt;&gt;</code> 向右移位 <ul><li>右移 n 位相当于除以 2 取整 n 次</li></ul></li><li><code>&gt;&gt;&gt;</code> 无符号向右移位</li></ul></li><li>关系表达式 RelationalExpression <ul><li>in</li></ul></li><li>比较表达式 <ol><li>相等表达式 EqualityExpression</li></ol></li><li>位运算表达式 <ul><li>按位与表达式 BitwiseANDExpression</li><li>按位异或表达式 BitwiseANDExpression <ul><li>异或运算 <ul><li>两次异或运算相当于取消，可以用异或运算来交换两个整数的值。</li><li>按位或运算常常被用在一种叫做 Bitmask 的技术上。Bitmask 相当于使用一个整数来当做多个布尔型变量</li></ul></li></ul></li><li>按位或表达式 BitwiseORExpression</li></ul></li><li>逻辑运算符 <ul><li><code>&amp;&amp;</code></li><li><code>||</code></li><li>空值合并运算符 <code>??</code>：<code>a ?? b</code> a 为 null 或者 undefined 则选择 b</li></ul></li></ol></li><li>三元运算符 <ul><li>条件表达式 ConditionalExpression：<code>condition ? branch1 : branch2</code></li></ul></li></ol></li><li>AssignmentExpression 赋值表达式</li><li>逗号运算符</li></ol></div><!----></article></div><footer class="footer footer-center p-4 bg-base-300 text-base-content opacity-60"><div><p>©2017-2021 laoergege.cn. All right reserved. </p><p><a href="https://beian.miit.gov.cn" target="_blank" class="link link-hover">粤ICP备2022020679号</a></p></div></footer><!--]--><!----><!--]--></div>
    <script src="/assets/js/runtime~app.7d4bd660.js" defer></script><script src="/assets/js/5838.13a569e5.js" defer></script><script src="/assets/js/app.7e792774.js" defer></script>
</body>

</html>